# exp002 Baseline Report (H-01)

- Date (UTC): 2025-11-03
- Experiment ID: exp002
- Hypothesis ID: H-01
- Change Type: model

## 1. 仮説（Hypothesis）
- 変更対象: モデル（ベースライン導入）
- 仮説文: 「`target_name` ごとの平均値（クラス平均）を予測として用いても、情報リークを避けた安定したベースライン指標（RMSE/MAE/Final R^2）を得られるはず」
- 期待効果・理由: test.csv には画像以外の特徴がないため、学習時の情報リークを避けるために train/test 共通の特徴（`target_name`）のみに限定。これで再現性の高い基準線を確立。
- 評価指標: RMSE, MAE, Final R^2（5-fold CV と 20% ホールドアウト）

## 2. 変更点（Single-change Experiment）
- 追加: ベースライン学習スクリプト `project/experiments/exp002/baseline.py`
- 特徴量: `target_name` のみ（クラス平均予測）
- モデル: クラス平均（`target_name`→`target` の平均値）。線形モデルの one-hot + バイアスに相当。

## 3. データ分割・検証設定
- 交差検証: KFold=5, shuffle=True, random_state=42
- ホールドアウト: 80/20, random_state=42
- 提出生成: 学習済みモデルで `test.csv` を推論し、`project/results/exp002/submission.csv` を作成

## 4. 実験結果（Quantitative Results）
- CV: RMSE=21.6745, MAE=15.0784, Final R^2=-0.0108
- Holdout: RMSE=20.9014, MAE=14.7828, Final R^2=-0.0180
- 乖離メモ: CV と HO は近く、ベースラインとして妥当（Final R^2 はわずかに負）。

## 5. 考察（Why/Why not）
- `target_name` のクラス平均に近いモデルのため、ばらつきの大きいサンプルでは誤差が大きい。
- 画像情報や NDVI/高さなどのタブラー特徴を活かすには、test 側にも同等の特徴が必要。次段では画像からの単純統計量（平均輝度など）の抽出を仮説候補とする。

## 6. 再現性（Reproducibility）
- 実行コマンド:
  - `python -m project.experiments.exp002.baseline --data-dir data`
- 生成物:
  - ログ JSON: `project/results/exp002/run-<timestamp>.json`
  - 一覧: `project/results/experiments.csv`
  - 提出: `project/results/exp002/submission.csv`
